<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOMContentLoaded vs Load Events</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: #fff;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
            background: linear-gradient(to right, #fdbb2d, #b21f1f);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }
        
        h2 {
            font-size: 1.8rem;
            margin: 25px 0 15px;
            color: #fdbb2d;
        }
        
        p {
            margin-bottom: 20px;
            font-size: 1.1rem;
        }
        
        .comparison {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
        }
        
        .event-card {
            flex: 1;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .event-card h3 {
            color: #fdbb2d;
            margin-bottom: 15px;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
        }
        
        .event-card h3 .icon {
            margin-right: 10px;
            font-size: 1.6rem;
        }
        
        .timeline {
            margin: 40px 0;
            position: relative;
            height: 120px;
        }
        
        .timeline-line {
            position: absolute;
            top: 60px;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(to right, #b21f1f, #fdbb2d);
            z-index: 1;
        }
        
        .timeline-point {
            position: absolute;
            text-align: center;
            z-index: 2;
            width: 120px;
            transform: translateX(-50%);
        }
        
        .timeline-dot {
            width: 20px;
            height: 20px;
            background: #1a2a6c;
            border: 3px solid #fdbb2d;
            border-radius: 50%;
            margin: 0 auto 10px;
        }
        
        .timeline-label {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .demo-section {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 30px 0;
        }
        
        .demo-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        button {
            background: linear-gradient(to right, #b21f1f, #fdbb2d);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        button:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .visualization {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 20px;
        }
        
        .resource {
            display: flex;
            align-items: center;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            transition: all 0.5s;
        }
        
        .resource-icon {
            width: 30px;
            height: 30px;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            border-radius: 50%;
        }
        
        .resource.html .resource-icon {
            background: #e34c26;
        }
        
        .resource.css .resource-icon {
            background: #264de4;
        }
        
        .resource.js .resource-icon {
            background: #f0db4f;
            color: #000;
        }
        
        .resource.img .resource-icon {
            background: #38b2ac;
        }
        
        .resource-name {
            flex: 1;
        }
        
        .resource-status {
            font-weight: bold;
            min-width: 100px;
            text-align: right;
        }
        
        .status-pending {
            color: #ff9f43;
        }
        
        .status-loading {
            color: #0abde3;
        }
        
        .status-loaded {
            color: #10ac84;
        }
        
        .events-display {
            display: flex;
            justify-content: space-around;
            margin-top: 30px;
        }
        
        .event-indicator {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.3);
            min-width: 200px;
            transition: all 0.3s;
        }
        
        .event-indicator.active {
            background: rgba(253, 187, 45, 0.2);
            box-shadow: 0 0 15px rgba(253, 187, 45, 0.5);
        }
        
        .event-indicator h3 {
            margin-bottom: 10px;
            color: #fdbb2d;
        }
        
        .code-block {
            background: #1e1e1e;
            border-left: 4px solid #fdbb2d;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
        }
        
        .explanation {
            margin: 30px 0;
        }
        
        .key-point {
            margin: 15px 0;
            padding-left: 20px;
            border-left: 3px solid #fdbb2d;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        @media (max-width: 768px) {
            .comparison {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .events-display {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>DOMContentLoaded vs Load Events</h1>
            <p>Understanding when these important browser events fire during page loading</p>
        </header>
        
        <section class="comparison">
            <div class="event-card">
                <h3><span class="icon">üìÑ</span> DOMContentLoaded</h3>
                <p><strong>Fires when:</strong> The HTML document has been completely parsed and the DOM tree is built.</p>
                <p><strong>Does NOT wait for:</strong> Stylesheets, images, and subframes to finish loading.</p>
                <p><strong>Typical use:</strong> Initializing JavaScript that interacts with the DOM.</p>
            </div>
            
            <div class="event-card">
                <h3><span class="icon">üñºÔ∏è</span> Load Event</h3>
                <p><strong>Fires when:</strong> The entire page and all its dependent resources (images, CSS) have finished loading.</p>
                <p><strong>Waits for:</strong> Everything on the page to be completely loaded.</p>
                <p><strong>Typical use:</strong> Actions that require the full page to be ready (e.g., image galleries).</p>
            </div>
        </section>
        
        <div class="timeline">
            <div class="timeline-line"></div>
            <div class="timeline-point" style="left: 20%;">
                <div class="timeline-dot"></div>
                <div class="timeline-label">HTML Parsing Starts</div>
            </div>
            <div class="timeline-point" style="left: 50%;">
                <div class="timeline-dot"></div>
                <div class="timeline-label">DOMContentLoaded</div>
                <div>(DOM Ready)</div>
            </div>
            <div class="timeline-point" style="left: 80%;">
                <div class="timeline-dot"></div>
                <div class="timeline-label">Load Event</div>
                <div>(Page Fully Loaded)</div>
            </div>
        </div>
        
        <section class="demo-section">
            <h2>Interactive Demonstration</h2>
            <p>Watch how resources load and when each event fires:</p>
            
            <div class="demo-controls">
                <button id="startDemo">Start Demo</button>
                <button id="resetDemo" disabled>Reset</button>
                <button id="slowMode">Slow Motion: Off</button>
            </div>
            
            <div class="visualization">
                <div class="resource html">
                    <div class="resource-icon">H</div>
                    <div class="resource-name">HTML Document</div>
                    <div class="resource-status status-pending">Pending</div>
                </div>
                
                <div class="resource css">
                    <div class="resource-icon">C</div>
                    <div class="resource-name">CSS Stylesheets</div>
                    <div class="resource-status status-pending">Pending</div>
                </div>
                
                <div class="resource js">
                    <div class="resource-icon">J</div>
                    <div class="resource-name">JavaScript Files</div>
                    <div class="resource-status status-pending">Pending</div>
                </div>
                
                <div class="resource img">
                    <div class="resource-icon">I</div>
                    <div class="resource-name">Images</div>
                    <div class="resource-status status-pending">Pending</div>
                </div>
            </div>
            
            <div class="events-display">
                <div class="event-indicator" id="domContentLoadedIndicator">
                    <h3>DOMContentLoaded</h3>
                    <div class="status">Not fired yet</div>
                </div>
                
                <div class="event-indicator" id="loadIndicator">
                    <h3>Load Event</h3>
                    <div class="status">Not fired yet</div>
                </div>
            </div>
        </section>
        
        <section class="explanation">
            <h2>Detailed Explanation</h2>
            
            <div class="key-point">
                <h3>DOMContentLoaded Event</h3>
                <p>This event fires when the browser has finished parsing the HTML document and constructed the DOM tree. It doesn't wait for stylesheets, images, or subframes to finish loading.</p>
                <div class="code-block">
// This code will run when DOM is ready
document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM fully loaded and parsed');
    // You can safely manipulate the DOM here
});
                </div>
            </div>
            
            <div class="key-point">
                <h3>Load Event</h3>
                <p>This event fires when the entire page has loaded, including all dependent resources such as stylesheets, images, and iframes.</p>
                <div class="code-block">
// This code will run when everything is loaded
window.addEventListener('load', function() {
    console.log('Page fully loaded');
    // All resources are available here
});
                </div>
            </div>
            
            <div class="key-point">
                <h3>Practical Implications</h3>
                <p><strong>DOMContentLoaded</strong> is usually the event you want for initializing your JavaScript application because it fires earlier, making your site feel faster to users.</p>
                <p><strong>Load event</strong> is useful when you need to work with resources that take time to load, like images where you need their actual dimensions.</p>
            </div>
        </section>
        
        <footer>
            <p>Understanding the difference between these events is crucial for web performance optimization.</p>
        </footer>
    </div>

    <script>
        // Demo functionality
        document.addEventListener('DOMContentLoaded', function() {
            const startButton = document.getElementById('startDemo');
            const resetButton = document.getElementById('resetDemo');
            const slowModeButton = document.getElementById('slowMode');
            const domContentLoadedIndicator = document.getElementById('domContentLoadedIndicator');
            const loadIndicator = document.getElementById('loadIndicator');
            
            const resources = {
                html: document.querySelector('.resource.html'),
                css: document.querySelector('.resource.css'),
                js: document.querySelector('.resource.js'),
                img: document.querySelector('.resource.img')
            };
            
            let demoRunning = false;
            let slowMode = false;
            
            // Set up event listeners for the actual page
            document.addEventListener('DOMContentLoaded', function() {
                if (demoRunning) return;
                domContentLoadedIndicator.classList.add('active');
                domContentLoadedIndicator.querySelector('.status').textContent = 'Fired!';
            });
            
            window.addEventListener('load', function() {
                if (demoRunning) return;
                loadIndicator.classList.add('active');
                loadIndicator.querySelector('.status').textContent = 'Fired!';
            });
            
            // Demo functions
            function startDemo() {
                if (demoRunning) return;
                
                demoRunning = true;
                startButton.disabled = true;
                resetButton.disabled = false;
                
                // Reset indicators
                domContentLoadedIndicator.classList.remove('active');
                domContentLoadedIndicator.querySelector('.status').textContent = 'Not fired yet';
                loadIndicator.classList.remove('active');
                loadIndicator.querySelector('.status').textContent = 'Not fired yet';
                
                // Reset resources
                Object.values(resources).forEach(resource => {
                    resource.querySelector('.resource-status').textContent = 'Pending';
                    resource.querySelector('.resource-status').className = 'resource-status status-pending';
                });
                
                // Simulate resource loading
                const baseDelay = slowMode ? 2000 : 800;
                
                // HTML loads first (almost instantly)
                setTimeout(() => {
                    resources.html.querySelector('.resource-status').textContent = 'Loaded';
                    resources.html.querySelector('.resource-status').className = 'resource-status status-loaded';
                }, 100);
                
                // CSS starts loading
                setTimeout(() => {
                    resources.css.querySelector('.resource-status').textContent = 'Loading...';
                    resources.css.querySelector('.resource-status').className = 'resource-status status-loading';
                }, 200);
                
                // JS starts loading
                setTimeout(() => {
                    resources.js.querySelector('.resource-status').textContent = 'Loading...';
                    resources.js.querySelector('.resource-status').className = 'resource-status status-loading';
                }, 300);
                
                // DOMContentLoaded fires after HTML is parsed and JS executed
                setTimeout(() => {
                    domContentLoadedIndicator.classList.add('active');
                    domContentLoadedIndicator.querySelector('.status').textContent = 'Fired!';
                    
                    // CSS finishes loading
                    resources.css.querySelector('.resource-status').textContent = 'Loaded';
                    resources.css.querySelector('.resource-status').className = 'resource-status status-loaded';
                    
                    // JS finishes loading
                    resources.js.querySelector('.resource-status').textContent = 'Loaded';
                    resources.js.querySelector('.resource-status').className = 'resource-status status-loaded';
                }, baseDelay);
                
                // Images start loading after DOMContentLoaded
                setTimeout(() => {
                    resources.img.querySelector('.resource-status').textContent = 'Loading...';
                    resources.img.querySelector('.resource-status').className = 'resource-status status-loading';
                }, baseDelay + 200);
                
                // Load event fires after all resources are loaded
                setTimeout(() => {
                    resources.img.querySelector('.resource-status').textContent = 'Loaded';
                    resources.img.querySelector('.resource-status').className = 'resource-status status-loaded';
                    
                    loadIndicator.classList.add('active');
                    loadIndicator.querySelector('.status').textContent = 'Fired!';
                    
                    demoRunning = false;
                    startButton.disabled = false;
                }, baseDelay * 1.5);
            }
            
            function resetDemo() {
                // Reset all states
                demoRunning = false;
                startButton.disabled = false;
                resetButton.disabled = true;
                
                domContentLoadedIndicator.classList.remove('active');
                domContentLoadedIndicator.querySelector('.status').textContent = 'Not fired yet';
                loadIndicator.classList.remove('active');
                loadIndicator.querySelector('.status').textContent = 'Not fired yet';
                
                Object.values(resources).forEach(resource => {
                    resource.querySelector('.resource-status').textContent = 'Pending';
                    resource.querySelector('.resource-status').className = 'resource-status status-pending';
                });
            }
            
            function toggleSlowMode() {
                slowMode = !slowMode;
                slowModeButton.textContent = slowMode ? 'Slow Motion: On' : 'Slow Motion: Off';
            }
            
            // Attach event listeners
            startButton.addEventListener('click', startDemo);
            resetButton.addEventListener('click', resetDemo);
            slowModeButton.addEventListener('click', toggleSlowMode);
            
            // Show that DOMContentLoaded has already fired for the actual page
            domContentLoadedIndicator.classList.add('active');
            domContentLoadedIndicator.querySelector('.status').textContent = 'Fired! (for this page)';
        });
    </script>
</body>
</html>